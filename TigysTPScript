--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

--// Variables
local baseCFrame = HumanoidRootPart.CFrame -- Automatically save current location as base
local stepSize = 95 -- studs per teleport step

--// UI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "TigysVIPTP"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

-- Main Frame
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 300, 0, 150)
Frame.Position = UDim2.new(0.5, -150, 0.5, -75)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui
Frame.AnchorPoint = Vector2.new(0.5, 0.5)
Frame.BackgroundTransparency = 0.1
Frame.ClipsDescendants = true

-- UI Corner
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 15)
UICorner.Parent = Frame

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Text = "Tigyâ€™s VIP TP"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 24
Title.Parent = Frame

-- TP Button
local TPButton = Instance.new("TextButton")
TPButton.Size = UDim2.new(0, 200, 0, 50)
TPButton.Position = UDim2.new(0.5, -100, 0.5, -25)
TPButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
TPButton.Text = "TP to Base"
TPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TPButton.Font = Enum.Font.GothamBold
TPButton.TextSize = 20
TPButton.Parent = Frame

local TPButtonCorner = Instance.new("UICorner")
TPButtonCorner.CornerRadius = UDim.new(0, 10)
TPButtonCorner.Parent = TPButton

--// Teleport Function
local function TPToBase()
    local direction = (baseCFrame.Position - HumanoidRootPart.Position).Unit
    while (HumanoidRootPart.Position - baseCFrame.Position).Magnitude > stepSize do
        HumanoidRootPart.CFrame = HumanoidRootPart.CFrame + direction * stepSize
        RunService.Heartbeat:Wait()
    end
    -- Final snap to base to avoid overshoot
    HumanoidRootPart.CFrame = baseCFrame
end

-- Button Click
TPButton.MouseButton1Click:Connect(TPToBase)

--// Hover Button (Integrated)
local HoverButton = Instance.new("TextButton")
HoverButton.Size = UDim2.new(0, 200, 0, 50)
HoverButton.Position = UDim2.new(0.5, -100, 0.75, -25) -- placed below TP button
HoverButton.BackgroundColor3 = Color3.fromRGB(60, 50, 90)
HoverButton.Text = "Hover +10 Studs"
HoverButton.TextColor3 = Color3.fromRGB(255, 255, 255)
HoverButton.Font = Enum.Font.GothamBold
HoverButton.TextSize = 20
HoverButton.Parent = Frame

local HoverButtonCorner = Instance.new("UICorner")
HoverButtonCorner.CornerRadius = UDim.new(0, 10)
HoverButtonCorner.Parent = HoverButton

-- Hover Toggle Logic
local hovering = false
local hoverHeight = 10
local hoverConnection

HoverButton.MouseButton1Click:Connect(function()
    if hovering then
        hovering = false
        if hoverConnection then
            hoverConnection:Disconnect()
        end
    else
        hovering = true
        local targetY = HumanoidRootPart.Position.Y + hoverHeight
        hoverConnection = RunService.Heartbeat:Connect(function()
            if hovering then
                local pos = HumanoidRootPart.Position
                HumanoidRootPart.CFrame = CFrame.new(pos.X, targetY, pos.Z)
            end
        end)
    end
end)
